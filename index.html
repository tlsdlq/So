<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìºë¦­í„° í˜„í™©íŒ</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì • */
        body {
            font-family: 'Suit', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 600px; /* ëª¨ë°”ì¼ ë° ë°ìŠ¤í¬íƒ‘ ì ì • ë„ˆë¹„ */
            background-color: transparent;
        }

        /* ì•„ì½”ë””ì–¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .accordion {
            background-color: #ffffff;
            color: #333;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 1.1rem;
            font-weight: bold;
            transition: 0.4s;
            border-bottom: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* ë§ˆìš°ìŠ¤ í˜¸ë²„ ë° í™œì„±í™” ìƒíƒœ */
        .active, .accordion:hover {
            background-color: #e8f0fe;
            color: #1a73e8;
        }

        /* í¼ì³ì§ˆ íŒ¨ë„ ìŠ¤íƒ€ì¼ */
        .panel {
            padding: 0 18px;
            background-color: white;
            max-height: 0; /* ê¸°ë³¸ì ìœ¼ë¡œ ë‹«í˜€ìˆìŒ */
            overflow: hidden;
            transition: max-height 0.3s ease-out; /* ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ */
            border-radius: 0 0 8px 8px;
            margin-top: -8px; /* ë²„íŠ¼ê³¼ ë¶™ì´ê¸° ìœ„í•´ */
            margin-bottom: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        /* íŒ¨ë„ ë‚´ë¶€ ë‚´ìš© ìŠ¤íƒ€ì¼ */
        .info-box {
            padding: 20px 0;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            border-bottom: 1px dashed #eee;
            padding-bottom: 8px;
        }
        .info-row:last-child {
            margin-bottom: 0;
            border-bottom: none;
        }
        .label {
            color: #666;
            font-weight: 500;
        }
        .value {
            font-weight: bold;
            color: #333;
        }
        .heart { color: #e91e63; }

        /* í™”ì‚´í‘œ ì•„ì´ì½˜ */
        .icon {
            transition: transform 0.3s;
            font-size: 0.8rem;
        }
        .active .icon {
            transform: rotate(180deg);
        }

        /* ì•ˆë‚´ ë©”ì‹œì§€ */
        .empty-msg {
            text-align: center;
            color: #888;
            margin-top: 50px;
        }
        code {
            background: #eee;
            padding: 2px 5px;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <div class="container" id="list-container">
        <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì´ê³³ì— ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤ -->
    </div>

    <script>
        function getParamsAndRender() {
            const container = document.getElementById('list-container');
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);

            // íŒŒë¼ë¯¸í„°ê°€ ì—†ì„ ê²½ìš° ì•ˆë‚´ ë©”ì‹œì§€
            if ([...urlParams].length === 0) {
                container.innerHTML = `
                    <div class="empty-msg">
                        <h3>ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                        <p>ì£¼ì†Œ ë’¤ì— ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•´ë³´ì„¸ìš”:</p>
                        <p><code>?ì² ìˆ˜=100|í•™êµ|ê³µë¶€ì¤‘&ì˜í¬=50|ì§‘|íœ´ì‹</code></p>
                    </div>`;
                return;
            }

            // íŒŒë¼ë¯¸í„° ìˆœíšŒí•˜ë©° DOM ìƒì„±
            urlParams.forEach((value, key) => {
                // ê°’ ë¶„ë¦¬ (í˜¸ê°ë„|ìœ„ì¹˜|í˜„í™©)
                const parts = value.split('|');
                const affection = parts[0] || '-';
                const location = parts[1] || '-';
                const status = parts[2] || '-';

                // 1. ì „ì²´ ë˜í¼ ìƒì„±
                const wrapper = document.createElement('div');

                // 2. ë²„íŠ¼(í—¤ë”) ìƒì„±
                const button = document.createElement('button');
                button.className = 'accordion';
                button.innerHTML = `
                    <span>${key}</span>
                    <span class="icon">â–¼</span>
                `;

                // 3. íŒ¨ë„(ë‚´ìš©) ìƒì„±
                const panel = document.createElement('div');
                panel.className = 'panel';
                panel.innerHTML = `
                    <div class="info-box">
                        <div class="info-row">
                            <span class="label">â¤ï¸ í˜¸ê°ë„</span>
                            <span class="value heart">${affection}</span>
                        </div>
                        <div class="info-row">
                            <span class="label">ğŸ“ ìœ„ì¹˜</span>
                            <span class="value">${location}</span>
                        </div>
                        <div class="info-row">
                            <span class="label">ğŸ“¢ í˜„í™©</span>
                            <span class="value">${status}</span>
                        </div>
                    </div>
                `;

                // 4. í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€ (í¼ì¹˜ê¸°/ì ‘ê¸° ê¸°ëŠ¥)
                button.addEventListener('click', function() {
                    // active í´ë˜ìŠ¤ í† ê¸€ (ìƒ‰ìƒ ë³€ê²½ ë° í™”ì‚´í‘œ íšŒì „)
                    this.classList.toggle('active');

                    // íŒ¨ë„ ë†’ì´ ì¡°ì ˆ (ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼)
                    const content = this.nextElementSibling;
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null; // ë‹«ê¸°
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px"; // ì—´ê¸° (ë‚´ìš©ë¬¼ ë†’ì´ë§Œí¼)
                    }
                });

                // 5. ì»¨í…Œì´ë„ˆì— ì¶”ê°€
                wrapper.appendChild(button);
                wrapper.appendChild(panel);
                container.appendChild(wrapper);
            });
        }

        // ì‹¤í–‰
        getParamsAndRender();
    </script>
</body>
</html>
